// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

/**
 * Minimal user (kept if you already sign in)
 */
model User {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?
  image     String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

/**
 * Weekly template block (recurs every week).
 * day: 0=Mon … 6=Sun (Monday-start weeks, per our plan)
 * startMin/endMin: minutes from 00:00
 */
model Block {
  id        String  @id @default(cuid())
  day       Int                 // 1 = Mon … 7 = Sun
  startMin  Int                 // minutes from 00:00
  endMin    Int
  label     String?             // e.g. "Morning", "Afternoon" (optional)
  locked    Boolean @default(false)
  isClass   Boolean @default(false)   // <-- NEW: columns that carry a CLASS tag

  @@index([day, startMin])
}